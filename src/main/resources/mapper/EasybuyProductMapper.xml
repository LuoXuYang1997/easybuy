<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="com.scce.dao.EasybuyProductDao">
    <resultMap id="product" type="com.scce.pojo.EasybuyProduct">
        <!-- WARNING - @mbggenerated This element is automatically generated by MyBatis Generator, do not modify. This element was generated on Thu Mar 16 09:23:51 CST 2017. -->
        <id property="id" column="id"/>
        <result property="productid" column="productId"/>
        <result property="producttypeid" column="productTypeId"/>
        <result property="productname" column="productName"/>
        <result property="productdetails" column="productDetails"/>
        <result property="price" column="price"/>
        <result property="stocknumber" column="stockNumber"/>
        <result property="warehousingdate" column="WarehousingDate"/>
        <result property="filename" column="fileName"/>
        <result property="handlers" column="handlers"/>
    </resultMap>
    <!--根据productTypeId得到productDetails-->

    <select id="ProductName" resultType="com.scce.pojo.EasybuyProduct" parameterType="Integer">
    select * from easybuy_product where productTypeId=#{productTypeId}
    </select>


    <select id="productselall" resultMap="product" parameterType="map">
        select * from `easybuy_product` where 1=1
        <if test="typeid!=null and typeid!=''"> and productTypeId=#{typeid} </if>
        <if test="productname!=null and productname!=''">and productName like"%"#{productname}"%" </if>
        <if test="priceles!=null and  pricemor!=null  "> and price BETWEEN #{priceles} and #{pricemor} </if>

    </select>

    <update id="updateproduct" parameterType="com.scce.pojo.EasybuyProduct">
        update  easybuy_product
        <set>

            <if test="productname!=null and productname!=''">  productName=#{productname}, </if>

            <if test="productdetails!=null and productdetails!=''">  productDetails=#{productdetails} ,</if>
            <if test="price!=null and price!=''">  price=#{price}, </if>
            <if test="stocknumber!=null and stocknumber!=''">  stockNumber=#{stocknumber} </if>
            <!--<if test="productid!=null and productid!=''">  productId=#{productid} </if>
            <if test="producttypeid!=null and producttypeid!=''">  productTypeId=#{producttypeid} </if>
            <if test="warehousingdateStr!=null and warehousingdateStr!=''">  WarehousingDate=#{warehousingdateStr} </if>
            <if test="filename!=null and filename!=''">  fileName=#{filename} </if>
            <if test="handlers!=null and handlers!=''">  handlers=#{handlers} </if>
          -->
        </set>
        where productId=#{productid};
    </update>


    <select id="Easybuyproductdetails"  resultMap="product" parameterType="string">
       select * from easybuy_product where productDetails=#{productdetails}
    </select>
</mapper>